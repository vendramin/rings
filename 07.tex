\section{Lecture -- Week 7}
\label{7}

Recall that, by convention, we only consider complex 
finite-dimensional representations of finite groups.

\begin{theorem}[Maschke]
\index{Maschke's theorem}
    Every representation of a finite group is completely reducible.
\end{theorem}

\begin{proof}
    Let $G$ be a finite group and $\rho\colon G\to\GL(V)$ be a representation of $G$. We proceed
    by induction on $\dim V$.
    If $\dim V=1$, the result is trivial, as degree-one representations are irreducible. Assume that
    the result holds for representations of degree $\leq n$. Suppose that $\rho$ has degree $n+1$. 
    If $\rho$ is irreducible, we are done. If not, use 
    Proposition \ref{pro:irr_or_dec} to 
    write $V=S\oplus T$, where $S$ and $T$
    are non-zero invariant subspaces of $V$. Since $\dim S<\dim V$ and $\dim T<\dim V$, it follows from
    the inductive hypothesis that
    both $S$ and $T$ are spaces of completely reducible representations. 
    Thus $\rho$ is completely reducible.
\end{proof}

\begin{example}
    Let $G=\Sym_3$ and $\rho\colon G\to\GL_3(\C)$ be the representation given by
    \[
    (12)\mapsto\begin{pmatrix}
    0&1&0\\
    1&0&0\\
    0&0&1
    \end{pmatrix},\quad
    (123)\mapsto\begin{pmatrix}
    0&0&1\\
    1&0&0\\
    0&1&0
    \end{pmatrix}.
    \]
    Then $\rho_g$ is unitary for all $g\in G$ (because $\rho_{(12)}$ and $\rho_{(123)}$ are both
    unitary). Moreover,
    \[
    S=\left\langle \begin{pmatrix}
    1\\1\\1
    \end{pmatrix}
    \right\rangle,
    \quad
    T=S^{\perp}=\left\langle
    \begin{pmatrix}
    -1\\1\\0
    \end{pmatrix},
    \begin{pmatrix}
    0\\-1\\1
    \end{pmatrix}
    \right\rangle,
    \]
    are irreducible invariant subspaces of $V=\C^3$. A direct calculation shows that
    in the orthogonal basis $\left\{\begin{pmatrix}
    1\\1\\1
    \end{pmatrix},
    \begin{pmatrix}
    -1\\1\\0
    \end{pmatrix},
    \begin{pmatrix}
    0\\-1\\1
    \end{pmatrix}
    \right\}$
    the matrices $\rho_{(12)}$ and $\rho_{(123)}$ can be written as
    \[
    \rho_{(12)}=\begin{pmatrix}
        1&0&0\\
        0&-1&1\\
        0&0&1
    \end{pmatrix},
    \quad
    \rho_{(123)}=
    \begin{pmatrix}
        1&0&0\\
        0&0&-1\\
        0&1&-1
    \end{pmatrix}.
    \]
\end{example}

The \emph{commutator subgroup} of a group $G$ is defined as the subgroup $[G,G]$ 
generated by the commutators $[x,y]=xyx^{-1}y^{-1}$, that is  
 \[
        [G,G]=\langle[x,y]: x,y\in G\rangle.
\]

Routine calculations show that $[G,G]$ is always a normal subgroup of $G$. 
For example, the commutator subgroup of $\Z$ is the trivial subgroup $\{0\}$, 
as 
\[
[x,y]=x+y-x-y=0
\]
for all $x,y\in\Z$. As an exercise, one can also prove that 
$[\Sym_3,\Sym_3]=\{\id,(123),(132)\}$.

\begin{exercise}
\label{xca:commutator}
Let $H$ be a normal subgroup of $G$. Prove that
$G/H$ is abelian if and only if $[G,G]\subseteq H$.
\end{exercise}

The previous exercise demonstrates, in particular, that for any group 
$G$, the quotient $G/[G,G]$ is always an abelian group. 
This quotient is known as the \emph{abelianization} of 
$G$. 

\begin{exercise}
Let $G$ be a finite group.
Prove that there is a bijection between degree-one representations of $G$ and
degree-one representations of $G/[G,G]$.
\end{exercise}

The following result is simple and crucial. 

\begin{lemma}[Schur]
\index{Schur's!lemma}
    Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be irreducible representations. If 
    $T\colon V\to W$ is a non-zero invariant map, then $T$ is bijective.  
\end{lemma}

\begin{proof}
    Since $T$ is non-zero and $\ker T$ is an invariant subspace of $V$, it follows that $\ker T=\{0\}$, as $\rho$ is irreducible. Thus 
    $T$ is injective. Since $T(V)$ is a non-zero invariant subspace of $W$ and $\psi$ is irreducible, 
    it follows that $T$ is surjective. Therefore $T$ 
    is bijective.  
\end{proof}

Two applications:

\begin{proposition}
\label{pro:Schur_consequence}
    If $G$ is finite, $\rho\colon G\to\GL(V)$ is an irreducible representation, and $T\colon V\to V$ is invariant, then 
    $T=\lambda\id$ for some $\lambda\in\C$. 
\end{proposition}

\begin{proof}
    Let $\lambda$ be an eigenvalue of $T$. Then $T-\lambda\id$ is invariant, as 
    \[
    (T-\lambda\id)\rho_g=T\rho_g-\lambda\rho_g=\rho_g(T-\lambda\id)
    \]
    for all $g\in G$ since $T$ is invariant. By definition, 
    $T-\lambda\id$ is not bijective. Thus $T-\lambda\id=0$ by Schur's lemma.
\end{proof}

\begin{proposition}
    Let $G$ be a finite abelian group. 
    If $\rho\colon G\to\GL(V)$ is an irreducible representation, then
    $\dim V=1$. 
\end{proposition}

\begin{proof}
    Let $h\in G$. Note that since $G$ is abelian, $T=\rho_h$ is invariant:
    \[
    T\rho_g=\rho_h\rho_g=\rho_{hg}=\rho_{gh}=\rho_g\rho_h=\rho_gT.
    \]
    By the previous proposition, 
    there exists $\lambda_h\in\C$ such that $\rho_h=\lambda_h\id$. If $v\in V\setminus\{0\}$, 
    then $V=\langle v\rangle$. In fact, since 
    $\langle v\rangle$ is a non-zero invariant subspace of $V$ and $\rho$ is irreducible, 
    it follows that $V=\langle v\rangle$. 
\end{proof}

\subsection{Characters}

Fix a group and consider (matrix) representations of groups. How can we study those matrices? Since 
the equivalence of representations translates into the equivalence of matrices, 
it makes sense to use linear algebra. We can use 
the characteristic polynomial of the matrix, 
\[
A\in\C^{n\times n}\rightsquigarrow \chi_A(X)=a_0+a_1X+\cdots+a_nX^n\in \C[X], 
\]
or any of the numbers $a_0,\dots,a_n\in\C$, as all of them are indeed invariants of the matrix $A$.
The determinant and the trace of $A$ are examples of such numbers. In the context of group representations,  
the \emph{trace} is particularly interesting. 

Recall that the \emph{trace} of an $n\times n$ square matrix $A=(a_{ij})$ is defined 
as 
\[
\trace A=a_{11}+\cdots+a_{nn}.
\]
The trace of a matrix is the sum of its eigenvalues (counted with multiplicities). Moreover, $\trace(AB) = \trace(BA)$ for all square matrices $A$ and $B$ of the same size. In particular, similar matrices have the same trace.

\begin{definition}
	\index{Character}
	Let $\rho\colon G\to\GL(V)$ be a representation of a finite group $G$. The \emph{character} of $\rho$ 
	is the map $\chi_\rho\colon G\to\C$, $g\mapsto\trace\rho_g$. 	
\end{definition}

If a representation $\rho$ is irreducible, its character is said to be an 
\emph{irreducible character}. The \emph{degree} of a character is the degree of the affording
representation. 

\begin{proposition}
	Let $\rho\colon G\to\GL(V)$ be a representation of a finite group $G$, $\chi$ be its character and $g\in G$.
	The following statements hold:
	\begin{enumerate}
		\item $\chi(1)=\dim V$. 
		\item $\chi(g)=\chi(hgh^{-1})$ for all $h\in G$.
		\item $\chi(g)$ is the sum of $\chi(1)$ roots of one of order $|g|$. 
		\item $\chi(g^{-1})=\overline{\chi(g)}$. 
		\item $|\chi(g)|\leq\chi(1)$.  
	\end{enumerate} 
\end{proposition}

\begin{proof}
	The first statement is trivial. 	To prove 2) note that
	\[
	\chi(hgh^{-1})=\trace(\rho_{hgh^{-1}})=\trace(\rho_h\rho_g\rho_h^{-1})=\trace\rho_g=\chi(g).
	\]
	Statement 3) follows from the fact that the trace of $\rho_g$ is the sum
	of the eigenvalues of $\rho_g$ and these numbers are roots of the polynomial
	$X^{|g|}-1\in\C[X]$. To prove 4) write $\chi(g)=\lambda_1+\cdots+\lambda_k$, where 
	the $\lambda_j$ are roots of one. Then
	\[
	\overline{\chi(g)}=\sum^k_{j=1}\overline{\lambda_j}
	=\sum_{j=1}^k\lambda_j^{-1}
	=\trace(\rho_g^{-1})
	=\trace(\rho_{g^{-1}})
	=\chi(g^{-1}).
	\] 
	Finally, we prove 5). Use 3) to write $\chi(g)$ as the sum of
	$\chi(1)$ roots of one, say \[
 \chi(g)=\lambda_1+\cdots+\lambda_k
 \]
 for
	$k=\chi(1)$. Then 
	\[
	|\chi(g)|=|\lambda_1+\cdots+\lambda_k|\leq |\lambda_1|+\cdots+|\lambda_k|
	=\underbrace{1+\cdots+1}_{\text{$k$-times}}=k.\qedhere
	\]
\end{proof}

If two representations are equivalent, their characters are equal.

Recall that the \emph{direct sum of representations} was defined in Example \ref{exa:direct_sum_reps}.

\begin{proposition}
    If $\rho\colon G\to\GL(V)$ and
    $\psi\colon G\to\GL(W)$ are representations of a finite group $G$, then
    $\chi_{\rho\oplus\psi}=\chi_\rho+\chi_\psi$.
\end{proposition}

\begin{proof}
  For $g\in G$, it follows that 
  $(\rho\oplus\psi)_g=
  \begin{pmatrix}
    \rho_g & 0\\ 
    0 & \psi_g
  \end{pmatrix}$. 
  Thus  
  \[
    \chi_{\rho\oplus\psi}(g)=\trace((\rho\oplus\phi)_g)=\trace(\rho_g)+\trace(\psi_g)=\chi_\rho(g)+\chi_\psi(g).\qedhere
  \]
\end{proof}

Let $V$ be a vector space with basis $\{v_1,\dots,v_k\}$ and 
$W$ be a vector space with basis $\{w_1,\dots,w_l\}$. A 
\emph{tensor product} of $V$ and $W$ is a vector space $X$ with 
together with a bilinear map 
\[
V\times W\to X,
\quad
(v,w)\mapsto v\otimes w,
\]
such that $\{v_i\otimes w_j:1\leq i\leq k,\,1\leq j\leq l\}$ is a  
basis of $X$. The tensor product of $V$ and $W$ is unique up to isomorphism 
and is denoted by $V\otimes W$. Note that
\[
\dim(V\otimes W)=(\dim V)(\dim W).
\]
Moreover, every element of $V\otimes W$ is a finite sum 
of the form
\[
\sum_{i,j}\lambda_{ij}v_i\otimes v_j
\]
for some scalars $\lambda_{ij}\in\C$. It is important to remark that elements 
of $V\otimes W$ are not always of the form $v\otimes w$ for $v\in V$ and $w\in W$. 

The bilinearity of tensor products is crucial. 
For example,
\begin{align*}
    (v_1+v_3)\otimes (3w_1+w_2) 
    &=v_1\otimes (3w_1+w_2)+v_3\otimes (3w_1+w_2)\\
    &=v_1\otimes (3w_1)+v_1\otimes w_2+v_3\otimes (3w_1)+v_3\otimes w_2\\
    &=3v_1\otimes w_1+v_1\otimes w_2+3v_3\otimes w_1+v_3\otimes w_2.
\end{align*}

\begin{definition}
	Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be representations, and 
    let $\{v_1,\dots,v_n\}$ be a basis of $V$ and $\{w_1,\dots,w_m\}$ a basis of $W$. 
    The \emph{tensor product} of $\rho$ and $\psi$ is the representation of $G$ given by 
	\begin{gather*}
	\rho\otimes\psi\colon G\to\GL(V\otimes W),
	\quad 
	g\mapsto (\rho\otimes\psi)_g,
	\shortintertext{where}
	(\rho\otimes\psi)_g(v_i\otimes w_j)=\rho_g(v_i)\otimes \psi_g(w_j),\quad 
    i\in\{1,\dots,n\},\, j\in\{1,\dots,m\}. 
	\end{gather*} 	
\end{definition}

A direct calculation shows that the tensor product of representations is indeed a representation. 

\begin{proposition}
  	If $\rho\colon G\to\GL(V)$ and
    $\psi\colon G\to\GL(W)$ are representations of a finite group $G$, then
    \[
    \chi_{\rho\otimes\psi}=\chi_\rho\chi_\psi.
    \]
\end{proposition}

\begin{proof}
	For each $g\in G$, the linear map $\rho_g$ is diagonalizable (see Corollary~\ref{cor:consequences}). Let $\{v_1,\dots,v_n\}$
	be a basis of eigenvectors of $\rho_g$ and let $\lambda_1,\dots,\lambda_n\in\C$ be such that
	$\rho_g(v_i)=\lambda_iv_i$ for all $i\in\{1,\dots,n\}$. Similarly, 
	let $\{w_1,\dots,w_m\}$ be a basis of 
	eigenvectors of $\psi_g$ and $\mu_1,\dots,\mu_m\in\C$ be such that $\psi_g(w_j)=\mu_jw_j$ for all $j\in\{1,\dots,m\}$. Each 
	$v_i\otimes w_j$ is eigenvector of $\rho\otimes\psi$ with eigenvalue 
	$\lambda_i\mu_j$, as  
	\[
		(\rho\otimes\psi)_g(v_i\otimes w_j)=\rho_gv_i\otimes \psi_gw_j=\lambda_iv_i\otimes \mu_jv_j=(\lambda_i\mu_j)v_i\otimes w_j.
	\]
	Thus  
	\[
    \{v_i\otimes w_j:1\leq i\leq n,1\leq j\leq m\}
    \]
    is a basis of eigenvectors and the 
	$\lambda_i\mu_j$ are the eigenvalues of $(\rho\otimes\psi)_g$. It follows that 
	\[
	\chi_{\rho\otimes\psi}(g)
	=\sum_{i,j}\lambda_i\mu_j
	=\left(\sum_i\lambda_i\right)\left(\sum_j\mu_j\right)
	=\chi_\rho(g)\chi_\psi(g).\qedhere 
	\]
\end{proof}

The following exercise defines \emph{dual representations}. 
%map $\rho^*$ is called the \emph{dual representation} of $\rho$. 

\begin{bonus}
Let $G$ be a finite group and $\rho\colon G\to\GL(V)$ be a representation. 
Prove that the map $\rho^*\colon G\to\GL(V^*)$ given by 
\[
(\rho^*_gf)(v)=f(\rho^{-1}_gv),\quad
g\in G,\,f\in V^*\text{ and }v\in V,
\]  
is a representation of $G$ 
with character $\overline{\chi_\rho}$. 
% Moreover, 
% the character of the dual representation is then 
% $\overline{\chi_\rho}$. Let $\{v_1,\dots,v_n\}$ be a basis of $V$
% and $\lambda_1,\dots,\lambda_n\in\C$ be such that $\rho_gv_i=\lambda_iv_i$ for all $i\in\{1,\dots,n\}$. If $\{f_1,\dots,f_n\}$ is the dual basis of $\{v_1,\dots,v_n\}$, then 
% \[
% (\rho^*_gf_i)(v_j)=f_i(\rho_g^{-1}v_j)
% =\overline{\lambda_j}f_i(v_j)
% =\overline{\lambda_j}\delta_{ij}
% \]
% and the claim follows. 
\end{bonus}
%\begin{proposition}
%	
%\end{proposition}
%
%\begin{proof}
%	Let $g\in G$ and $\{v_1,\dots,v_n\}$
%	be a basis of eigenvectors of $\rho_g$. Let
%	$\lambda_1,\dots,\lambda_n\in\C$ be such that $\rho_g(v_i)=\lambda_iv_i$ for all
%	$i\in\{1,\dots,n\}$. Let $\{f_1,\dots,f_n\}$ be the dual basis of $\{v_1,\dots,v_n\}$.
%	Since $\rho_g$ is invertible, each eigenvector of $\rho_g$ is non-zero. 
%	Thus $\rho_g(v_i)=\lambda_iv_i$ implies that 
%	$\rho_{g^{-1}}v_i=\lambda_i^{-1}v_i=\overline{\lambda_i}v_i$... 
%%	Now 
%%	\[
%		(\rho_g f_i)(v_j)=f_i(g^{-1}v_j)=\overline{\lambda_j}f_i(v_j)=\overline{\lambda_j}\delta_{ij}.
%	\]
%	
%	  
%	
%	 We claim
%	that $\{f_1,\dots,f_n\}$ is a basis of eigenvectors...
%	with $\overline{\lambda_1},\dots,\overline{\lambda_n}$. En efecto, si $gv_j=\lambda_jv_j$, entonces
%	$g^{-1}v_j=\lambda_j^{-1}v_j=\overline{\lambda_j}v_j$ (observemos que como $\phi_g$ es inversible, los $\lambda_j$ son no nulos). Luego
%	\[
%		(gf_i)(v_j)=f_i(g^{-1}v_j)=\overline{\lambda_j}f_i(v_j)=\overline{\lambda_j}\delta_{ij}.
%	\]
%	En conclusiÃ³n
%	\[
%		\chi_{V^*}(g)=\sum_{i=1}^n\overline{\lambda_i}=\overline{\chi_V(g)}.\qedhere
%	\]	
%\end{proof}

\subsection{The Artin--Wedderburn theorem}

In this section we will discuss a celebrated 
decomposition theorem of complex group algebras
of finite groups. 

\begin{theorem}[Artin--Wedderburn]
\label{thm:ArtinWedderburn}
\index{Artin--Wedderburn theorem}
Let $G$ be a finite group. Then $G$ has exactly $k$ finitely
many non-equivalent irreducible representations
and there is an algebra isomorphism 
\begin{equation}
    \label{eq:ArtinWedderburn}
    \C[G]\simeq \prod_{i=1}^k M_{n_i}(\C)
\end{equation}
for $n_1,\dots,n_k\geq1$. 
\end{theorem}

We will not prove the Artin--Wedderburn theorem
in this course. We will, however, 
discuss some consequences of \eqref{eq:ArtinWedderburn}. For any finite group $G$, 
the following statements hold: 
\begin{enumerate}
    \item $G$ admits exactly $k$ (in particular, at most finitely many) 
    non-equivalent
    irreducible representations, say $\rho_1,\dots,\rho_k$, where 
    $n_j=\deg\rho_j$ for all $j\in\{1,\dots,k\}$. 
    \item\label{it:|G|} $|G|=n_1^2+\cdots+n_k^2$.
    \item\label{it:conjugacy_classes} $k$ equals the number of conjugacy classes of $G$. 
\end{enumerate}

The first claim is included in the statement of the Artin--Wedderburn theorem. 
To prove the second claim one simply needs to 
take dimensions in \eqref{eq:ArtinWedderburn} to get 
\[
|G|=\dim\C[G]=\sum_{i=1}^k n_i^2.
\]
Let us prove the third claim. From~\eqref{eq:ArtinWedderburn} one gets 
    \[
                Z(\C[G])\simeq\prod_{i=1}^kZ(M_{n_i}(\C))\simeq\C^k.
        \]
        In particular, $\dim Z(\C[G])=k$. If $\alpha=\sum_{g\in
        G}\lambda_gg\in Z(\C[G])$, then $h^{-1}\alpha h=\alpha$ for all $h\in
        G$. Thus
        \[
                \sum_{g\in G}\lambda_{hgh^{-1}}g=
                \sum_{g\in G}\lambda_g h^{-1}gh=\sum_{g\in G}\lambda_gg
        \]
        and hence $\lambda_{g}=\lambda_{hgh^{-1}}$ for all $g,h\in G$. A basis for
        $Z(\C[G])$ is given by elements of the form
        \[
                \sum_{g\in K}g,
        \]
        where $K$ is a conjugacy class of $G$. Therefore $\dim Z(\C[G])$ equals
        the number of conjugacy classes of $G$.

\begin{convention}
    Since a finite group $G$ has only finitely many non-equivalent 
irreducible representations, we will often say
that 
\[
\rho_1,\dots,\rho_r
\]
are \emph{the} irreducible representations of $G$, where it is assumed that
the $\rho_i$ form a complete set of 
representatives of irreducible representations of $G$. For each $i$ we write
$\chi_i=\chi_{\rho_i}$. The set of irreducible characters will be denoted
by 
\[
\Irr(G)=\{\chi_1,\dots,\chi_r\}.
\]


\end{convention}

\subsection{Schur's orthogonality relations}

For a finite group $G$, the set                             
\[
L(G)=\{f\colon G\to\C\}
\]
is a complex vector space with
\[
    (\alpha+\beta)(x)=\alpha(x)+\beta(x),
    \quad
    (\lambda\alpha)(x)=\lambda\alpha(x),
    \quad 
    \alpha,\beta\in L(G),\,\lambda\in\C,\,x\in G.
\]

\begin{proposition}
\label{pro:dimL(G)=|G|}
    Let $G$ be a finite group. Then $\dim L(G)=|G|$. 
\end{proposition}

\begin{proof}
For $x\in G$, 
let 
\[
\delta_x\colon G\to\C,\quad \delta_x(y)=\begin{cases}
    1 & \text{if $x=y$},\\
    0 & \text{otherwise.}
    \end{cases}
\]

To prove the claim it is enough to show that 
$\{\delta_x:x\in G\}$ is a basis of $G$, as the size of this set equals the
number of elements of $G$. 
We first prove that $\{\delta_x:x\in G\}$  is a generating set: every function
$\alpha\in L(G)$ can be written as
\[
\alpha=\sum_{g\in G}\alpha(x)\delta_g.
\]
Moreover, the set $\{\delta_x:x\in G\}$ is linearly independent: if 
\[
\sum_{g\in G}\lambda_g\delta_g=0
\]
for some scalars $\lambda_g$, $g\in G$, then, after evaluating in each $x\in G$, one gets that 
\[
0%=\left(\sum_{g\in G}\lambda_g\delta_g\right)(0)
=\sum_{g\in G}\lambda_g\delta_g(x)=\lambda_x
\]
for all $x\in G$. 
\end{proof}

A fundamental fact is that the space $L(G)$ admits an inner product. 

\begin{exercise}
Let $G$ be a finite group. The map 
\[
L(G)\times L(G)\to\C,\quad 
(\alpha,\beta)\mapsto \langle\alpha,\beta\rangle=\frac{1}{|G|}\sum_{g\in G}\alpha(g)\overline{\beta(g)}
\]
is an inner product on $L(G)$. 
\end{exercise}

The space $L(G)$ is not new. The following exercise demonstrates that 
$L(G)$ and $\C[G]$ are isomorphic as algebras. 

\begin{bonus}
Let $G$ be a finite group. Prove the following statements:
\begin{enumerate}
    \item $L(G)$ with the \emph{convolution product}
    \[
    (\alpha*\beta)(x)=\sum_{y\in G}\alpha(xy^{-1})\beta(y)
    \]
    is an algebra. 
    \item The map $\C[G]\to L(G)$, $g\mapsto\delta_g$,
        is an algebra isomorphism.
    \end{enumerate}
\end{bonus}

If $\rho\colon G\to\GL_n(\C)$ is a matrix representation of $G$, then
$\rho_g$ is the matrix
\[
\begin{pmatrix}
    \rho_{11}(g) & \rho_{12}(g) & \cdots & \rho_{1n}(g)\\
    \rho_{21}(g) & \rho_{22}(g) & \cdots & \rho_{2n}(g)\\
    \vdots & \vdots & \ddots & \vdots\\
    \rho_{n1}(g) & \rho_{n2}(g) & \cdots & \rho_{nn}(g)
\end{pmatrix},
\]
where each $\rho_{ij}\colon G\to\C$ is a function. 
In particular, the character of $\rho$ is given by
\[
\chi_\rho(g)=\sum_{i=1}^n\rho_{ii}(g).
\]


\begin{theorem}[Schur]
\index{Schur's!theorem}
\label{thm:Schur_technical}
    Let $\rho\colon G\to\GL_n(\C)$ and $\psi\colon G\to\GL_m(\C)$ be irreducible representations of a finite group $G$. 
    Then the following statements hold:
    \begin{enumerate}
        \item $\langle\rho_{ij},\psi_{kl}\rangle=0$ for all $1\leq i,j\leq n$ and $1\leq k,l\leq m$ if $\rho$ and $\psi$ are not equivalent.
        \item $\displaystyle{\langle\rho_{ij},\rho_{kl}\rangle=\frac{1}{n}\delta_{ik}\delta_{lj}}$ 
        for all $1\leq i,j,k,l\leq n$.
    \end{enumerate}
\end{theorem}

We leave the proof for later (see \S\ref{subsection:Schur_proof}). Instead, we explore several consequences of Theorem~\ref{thm:Schur_technical}. 
We begin with Schur's \emph{first orthogonality relation}.

\begin{theorem}[Schur]
\index{Schur's!theorem}
\index{Schur's!first orthogonality relation}
\label{thm:Schur}
Let $\rho\colon G\to\GL(V)$ and $\psi\colon G\to\GL(W)$ be irreducible representations of a finite group $G$. Then
\[
\langle\chi_\rho,\chi_\psi\rangle=
\begin{cases}
1 & \text{if $\rho\simeq\psi$,}\\
0 & \text{otherwise.}
\end{cases}
\]
\end{theorem}

\begin{proof}
    Let $n=\dim V$ and $m=\dim W$. We compute
    \begin{align*}
        \langle\chi_\rho,\chi_\psi\rangle
        &=\frac{1}{|G|}\sum_{g\in G}\chi_\rho(g)\overline{\chi_\psi}(g)\\
        %&=\frac{1}{|G|}\sum_{g\in G}\sum_{i=1}^n\sum_{j=1}^m\rho_{ii}(g)\overline{\psi_{jj}(g)}\\
        &=\sum_{i=1}^n\sum_{j=1}^m\sum_{g\in G}\frac{1}{|G|}\rho_{ii}(g)\overline{\psi_{jj}(g)}\\
        &=\sum_{i=1}^n\sum_{j=1}^m\langle \rho_{ii},\psi_{jj}\rangle
        =\begin{cases}
            1 & \text{if $\rho\simeq\psi$,}\\
            0 & \text{otherwise.}
        \end{cases}\qedhere
    \end{align*}
\end{proof}

Schur's theorem has several 
corollaries.

\begin{exercise}
Let $G$ be a finite group. 
If $\rho\colon G\to\GL(V)$ is a unitary irreducible representation
of degree $n$, then
\[
\{\sqrt{n}\rho_{ij}:1\leq i,j\leq n\}
\]
is an orthonormal set of size $n^2$.
\end{exercise}

% \begin{corollary}
%     If $\rho\colon G\to\GL(V)$ is an irreducible representaion of degree $n$, then
%     $\{\sqrt{n}\rho_{ij}:1\leq i,j\leq n\}$ is an orthonormal set.
% \end{corollary}

Combining Weyl's trick with Proposition~\ref{pro:dimL(G)=|G|}
and Theorem~\ref{thm:Schur} 
we obtain the following result: 

% If $G$ is a finite group, let $K(G)$ be the number of conjugacy classes of $G$. 
% We want to know how many irreducible representations are there. For that purpose, 
% we need to study the space of class functions. 

\begin{exercise}
     Prove that a finite group has at most 
     finitely many classes of irreducible representations. 
\end{exercise}

% \begin{proof}
%      Let $G$ be a finite group. 
%      Every isomorphism class of representations of $G$ contains a unitary representation (Corollary \ref{cor:consequences}). 
%      Since $\dim L(G)=|G|$, every linearly independent set 
%      of vectors from $L(G)$ has at most $|G|$ elements. By
%      Schur's theorem \ref{thm:Schur}, the entries
%      of inequivalent unitary representations of $G$ 
%      form an orthogonal set of non-zero vectors of $L(G)$. Thus
%      there are at most $|G|$ equivalence classes of irreducible
%      representations. 
% %     it follows that $G$ admits $\leq|G|$ equivalence classes of irreducible representations. Let
% %     $\rho_1,\dots\rho_r$ be the representatives of the isomorphism classes of the 
% %    irreducible representations of $G$. At the moment, we do not know whether $r$ is finite. 
% %    For each $k$ let $n_k=\deg\rho_k$. Since
% %     the $n_1^2+\cdots n_r^2$ maps $\sqrt{n_k}(\rho_k)_{ij}$, $1\leq k\leq r$, $1\leq i,j\leq n_k$,
% %     form a non-zero orthonormal set of $L(G)$, it follows that
% %     $r\leq n_1^2+\cdots+ n_r^2\leq|G|$.
% \end{proof}

If $G$ is a group and $g\in G$, the \emph{conjugacy class} of $g$ in $G$ 
is the set $\{xgx^{-1}:x\in G\}$. Note that two conjugacy classes are either equal or disjoint. Moreover, 
every group is a disjoint union of its conjugacy classes. 

\begin{example}
    The conjugacy classes of the group $\Sym_3$ are  
    $\{\id\}$, $\{(12),(13),(23)\}$ and $\{(123),(132)\}$. Thus $\Sym_3$ has three conjugacy classes. 
\end{example}

\begin{definition}
\index{Class function}
	Let $G$ be a group and 
	$f\colon G\to\C$ be a map. Then $f$ is a \emph{class function} if
	$f(g)=f(hgh^{-1})$ for all $g,h\in G$. 	 
\end{definition}

For a finite group $G$, we write $C(G)$ to denote the subset of $L(G)$ of class functions.

Characters are examples of class functions. As a consequence, 
$\Irr(G)\subseteq C(G)$. 



\begin{exercise}
Let $G$ be a finite group. Prove that $C(G)$ is a subspace of $L(G)$. 
\end{exercise}

\begin{proposition}
    Let $G$ be a finite group. Then $\dim C(G)=K(G)$, the number of conjugacy classes of $G$.
\end{proposition}

\begin{proof}
If $C$ is a conjugacy class, 
then 
\[
\delta_C\colon G\to\C,\quad
\delta_C(x)=\begin{cases}
    1 & \text{if $x\in C$,}\\
    0 & \text{otherwise,}
\end{cases}
\]
is a class function.  
It is enough to prove that the 
set $\{\delta_C:C\text{ is a conjugacy class of $G$}\}$ is a basis of $C(G)$.  It is a generating set
because each $f$ can be written as 
\[
f=\sum_{C}f(C)\delta_C.
\]
The $\delta_C$ are linearly independent because they are orthogonal: 
If $C$ and $D$ 
are conjugacy classes of $G$, then 
\[
\langle\delta_C,\delta_D\rangle=\frac{1}{|G|}\sum_{x\in G}\delta_C(x)\overline{\delta_D(x)}
=\begin{cases}
|C|/|G| & \text{if $C=D$},\\
0 & \text{otherwise}.
\end{cases}
\]
From this the claim follows. 
\end{proof}


\begin{corollary}
    Let $G$ be a finite group. There are at most $K(G)$ equivalence classes of irreducible representations of $G$.
\end{corollary}

\begin{proof}
    Non-equivalent representations have different characters. 
    Irreducible characters 
    form an orthonormal set, thus they are linearly 
    independent. Since irreducible characters
    are class functions (that is, they are constant on conjugacy classes), 
    it follows that there are at most $K(G)$ irreducible different characters.  
\end{proof}

Let $m\in\Z_{>0}$. If $V$ is a vector space, we 
write \[
mV=V\oplus\cdots\oplus V\quad\text{($m$-times)}.
\]
Similarly,
if $\rho$ is a representation, 
we write 
\[
m\rho=\rho\oplus\cdots\oplus\rho\quad\text{($m$-times)}.
\]

\begin{theorem}
    Let $\rho_1,\dots,\rho_r$ be the irreducible representations of a finite group $G$. If 
	\[ 
    \rho=\sum_{j=1}^rm_j\rho_j,
    \]
    where $m_1,\dots m_r\in\Z_{\geq0}$, then
    $m_i=\langle \chi_\rho,\chi_i\rangle$ for all $i\in\{1,\dots,r\}$. 
\end{theorem}

\begin{proof}
    Write $\chi_\rho=\sum_{j=1}^rm_j\chi_j$. Then
    \[
    \langle\chi_\rho,\chi_i\rangle=\sum_{j=1}^rm_j\langle\chi_j,\chi_i\rangle=m_i
    \]
    for all $i\in\{1,\dots,r\}$.
\end{proof}

The theorem states that the decomposition of a representation $\rho$ into irreducibles 
is unique and is determined (up to equivalence) by its character. In particular, if $\rho$ and 
$\psi$
are irreducible representations, then
\[
    \rho\simeq\psi\Longleftrightarrow\chi_\rho=\chi_\psi.
\]

\begin{corollary}
    A representation $\rho$ of a finite group with character $\chi_\rho$ is irreducible if and only if $\langle\chi_\rho,\chi_\rho\rangle=1$.
\end{corollary}

\begin{proof}
    We first decompose $\rho$ as a sum of irreducibles, say \[
    \rho=\sum_{j=1}^rm_j\rho_j
    \]
    with $m_1,\dots,m_r\geq0$. Then
    $\langle\chi_\rho,\chi_\rho\rangle=\sum_{j=1}^rm_j^2$. Now $\langle\chi_\rho,\chi_\rho\rangle=1$ if and only if
    there is exactly one $j$ such that $m_j=1$ and $m_i=0$ for all $i\ne j$.  
\end{proof}

\begin{exercise}
    Let $G$ and $H$ be finite groups. 
    If $\rho\colon H\to\GL(V)$ is an irreducible
    representation of $H$ and 
    $f\colon G\to H$ is a surjective group homomorphism, then the composition $\rho f\colon G\to\GL(V)$ is an irreducible representation. 
\end{exercise}

Recall that the left regular representation of a finite group $G$
is the group homomorphism $L\colon G\to \GL(V)$, where $V$ is the complex vector space
with basis $\{g:g\in G\}$ and $L_g(x)=gx$ for all $g,x\in G$. 

\begin{theorem}
    Let $G$ be a finite group with irreducible representations $\rho_1,\dots,\rho_r$, and $L$ be its regular representation. 
    Then $L=\sum_{j=1}^rn_j\rho_j$, where $n_j=\deg\rho_j$. 
\end{theorem}

\begin{proof}
    Let $G=\{g_1,\dots,g_n\}$, $n=|G|$. If $g\in G$, since
    $L_g(g_i)=gg_i$ for all $i$, 
    the matrix of $L_g$ in the basis $\{g_1,\dots,g_n\}$ is then
    \begin{gather*}
    (L_g)_{ij}=\begin{cases}
        1 & \text{if $g_i=gg_j$},\\
        0 & \text{otherwise}.
    \end{cases}
    \shortintertext{Then}
    \chi_L(g)=\trace(L_g)=\sum_{i=1}^n(L_g)_{ii}=\begin{cases}
        |G| & \text{if $g=1$},\\
        0 & \text{otherwise}.
    \end{cases}
    \end{gather*}
    In particular, 
    \[
    \langle\chi_L,\chi_i\rangle=\frac{1}{|G|}\sum_{g\in G}\chi_L(g)\overline{\chi_i(g)}
    =\frac{1}{|G|}|G|\overline{\chi_i(1)}=n_i
    \]
    for all $i\in\{1,\dots,n\}$. 
\end{proof}

Now several consequences. 

\begin{exercise}
    Let $G$ be a finite group and $\rho_1,\dots,\rho_r$ be the irreducible representations of $G$. 
    For each $k$ let $n_k=\deg\rho_k$. Prove that the following statements hold:
    \begin{enumerate}
        \item $|G|=n_1^2+\cdots+n_r^2$.
        \item $\{\sqrt{n_k}(\rho_k)_{ij}:1\leq k\leq r,\,1\leq i,j\leq n_k\}$
            is an orthonormal basis of $L(G)$. 
    \end{enumerate}
\end{exercise}

Using the previous exercise, one gets a proof without using the Artin--Wedderburn theorem 
of  the following result.

\begin{bonus}
    Let $G$ be a finite group and $\rho_1,\dots,\rho_r$ be the irreducible representations of $G$. 
    For each $k$, let $n_k=\deg\rho_k$. Prove that 
    $r$ is equal to the number of conjugacy classes of $G$. 
\end{bonus}

% \begin{proof}
%     Since $\chi_L=\sum_{j=1}^rn_j\chi_j$, the first claim follows. 
%     The second claim follows from the orthogonality relations. Let us prove the third claim. Let $f\in C(G)$ and write $f$ 
%     as a linear combination of the $(\rho_k)_{ij}$, say
%     \[
%     f=\sum_{i,j,k}\lambda_{ijk}(\rho_k)_{ij},\quad\lambda_{ijk}\in\C.
%     \]
%     If $x\in G$, then 
%     \begin{align*}
%     f(x)&=\frac{1}{|G|}\sum_{g\in G}f(g^{-1}xg)\\
%     &=\frac{1}{|G|}\sum_{g\in G}\sum_{i,j,k}\lambda_{ijk}(\rho_k)_{ij}(g^{-1}xg)
%     =\sum_{i,j,k}\lambda_{ijk} \frac{1}{|G|}\sum_{g\in G}(\rho_k)_{ij}(g^{-1}xg). 
%     \end{align*}
%     Let $T=(\rho_k)_x=\rho_k(x)\colon V\to V$. Then
%     \[
%     T^{\#}=\frac{1}{|G|}\sum_{g\in G}(\rho_k)_{g^{-1}}(\rho_k)_x(\rho_k)_g
%     =\frac{1}{|G|}\sum_{g\in G}(\rho_k)(g^{-1}xg)
%     =\frac{1}{n_k}\chi_k(x)\id
%     \]
%     by the Ergodic theorem and because 
%     $\rho_k$ is a group homomorphism. Thus 
%     \[
%     f(x)=\sum_{i,j,k}\lambda_{ijk} \left((\rho_k)_x\right)_{ij}
%     =\sum_{i,j,k}\lambda_{ijk}\frac{1}{n_k}\chi_k(x)\delta_{ij}
%     =\sum_{i,k}\lambda_{iik}\frac{1}{n_k}\chi_k(x).\qedhere 
%     \]
%     This implies that $\dim C(G)\leq r$ and the claim follows. 
% \end{proof}

In the following exercise, the reader is asked to prove the second 
Schur's orthogonality relation. 

\begin{exercise}
    Let $G$ be a finite group and 
    $C$ and $D$ be conjugacy classes of $G$. If $g\in C$ and $h\in D$, then
    \[
    \sum_{\chi\in\Irr(G)}\chi(g)\overline{\chi(h)}=
    \begin{cases}
    |G|/|C| & \text{if $C=D$},\\
    0 & \text{otherwise}.
    \end{cases}
    \]
\end{exercise}
