%\section{Lecture -- Week 10}

\section{Noetherian modules}

We first start with a very easy exercise. 

\begin{exercise}
\label{xca:modules_intersection}
    Let $M$ be a module. 
    Prove that the intersection of submodules of $M$ 
    is a submodule of $M$. 
\end{exercise}

\begin{definition}
Let $M$ be a module and $X$ be a subset of $M$. The submodule
of $M$ generated by $X$ is defined as
\[
(X)=\bigcap\{N:N\text{ is a submodule of $M$ that contains $X$}\},
\]
the smallest submodule of $M$ containing $X$. 
\end{definition}

One can prove that  
\[
(X)=\left\{\sum_{i=1}^mr_i\cdot x_i:m\in\Z_{\geq0},\,r_1,\dots,r_m\in R,\,x_1,\dots,x_m\in X\right\}.
\]

\begin{definition}
    \index{Module!finitely generated}
    A module $M$ is \emph{finitely generated} if $M=(X)$ for some finite subset $X$ of $M$.
\end{definition}

If $X=\{x_1,\dots,x_m\}$ one writes $(X)=(x_1,\dots,x_n)$.
For example, $\Z=(1)=(2,3)$ and $\Z\ne (2)$.

\begin{exercise}
    Let $R$ be the ring of continuous maps $[0,1]\to\R$ with point-wise operations and 
    $M=\prescript{}{R}{R}$. Prove that
    \[ 
    N=\{f\in R:f(x)\ne0\text{ for finitely many $x$}\}
    \]
    is not finitely generated. 
\end{exercise}

\begin{exercise}
    Let $G=\{g_1,\dots,g_n\}$ be a finite group. Prove that if $M=\C[G]$ is finitely generated, then
    $M$ is a finite-dimensional complex vector space. 
\end{exercise}

\begin{example}
    Let $R$ be a ring. The $R$-module $R^3$ is finitely generated 
    by $e_1=(1,0,0)$, $e_2=(0,1,0)$ and $e_3=(0,0,1)$. 
\end{example}

If $f\in\Hom_R(M,N)$ and $M$ is finitely generated, then 
$f(M)$ is finitely generated. To prove this and other similar results, 
we introduce exact sequences (of modules and module homomorphisms). 
A sequence 
	\begin{equation}
	\label{eq:exacta1}	
    \begin{tikzcd}
	0 & M & N & T & 0
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
    \end{tikzcd}
  	\end{equation}
of modules and homomorphism is said to be \emph{exact} 
if $f$ is injective, $g$ is surjective and $f(M)=\ker g$. For example,
the sequence
\[
\begin{tikzcd}
	0 & M & M\oplus N & N & 0,
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\]
where $f(m)=(m,0)$ and $g(m,n)=n$, is exact.

\begin{exercise}
	Let 
\[\begin{tikzcd}
	0 & M & N & T & 0
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\]
     be an exact sequence. Prove the following statements: 
     \begin{enumerate}
     \item If $N$ if finitely generated, then $T$ is finitely generated. 
     \item If $M$ and $T$ are finitely generated, then $N$ is finitely generated. 	
     \end{enumerate}
\end{exercise}

\begin{exercise}
\label{xca:submodule_notfg}
Find a finitely generated module that contains a submodule 
that is not finitely generated. 
\end{exercise}

\begin{proposition}
    Let $R$ be a ring and $M$ be a module over $R$. 
    Then $M$ is finitely generated if and only 
    if $M$ is isomorphic to a quotient of $R^k$ for some $k$.
\end{proposition}

\begin{proof}
    Assume first that $M=(m_1,\dots,m_k)$ is finitely generated. A routine calculation shows that
    the map
    \[
    \varphi\colon R^k\to M,\quad
    (r_1,\dots,r_k)\mapsto \sum_{j=1}^kr_j\cdot m_j,
    \]
    is a surjective module homomorphism. The first isomorphism theorem implies that 
    \[ 
    R^k/\ker\varphi\simeq\varphi(R^k)=M.
    \]
    
    Conversely, assume that there exists a 
    surjective module homomorphism $\varphi\colon R^k\to M$. Since 
    $R^k=(e_1,\dots,e_k)$, where 
    \[
    (e_i)_j=\begin{cases}
    1 & \text{if $i=j$},\\
    0 & \text{if $i\ne j$},
    \end{cases}
    \]
    it follows that $\{\varphi(e_1),\dots,\varphi(e_k)\}$ generates $\varphi(R^k)=M$. To prove this, note that  
    if $m\in M$, by the surjectivity of $\varphi$, we write $m=\varphi(r_1,\dots,r_k)$ for some $(r_1,\dots,r_k)\in R^k$. 
    Hence  
    \[
    m=\varphi(r_1,\dots,r_k)=\varphi\left(\sum_{i=1}^k r_i\cdot e_i\right)
    =\sum_{i=1}^kr_i\cdot\varphi(e_i).\qedhere
    \]
\end{proof}

\begin{definition}
    \index{Module!noetherian}
    A module $M$ is \emph{noetherian} if every sequence $M_1\subseteq M_2\subseteq\cdots$ of submodules of $M$ 
    stabilizes, that is there exists an integer $n$ such that $M_n=M_{n+k}$ for all $k$. 	
\end{definition}

Let $M$ be a module and $X$ be a non-empty 
family of submodules of $M$. We say that $S\in X$ is a \emph{maximal 
element} (with respect to the inclusion) if $S\subseteq T$ for some $T\in X$ implies $S=T$. 

\begin{proposition}
Let $M$ be a module. The following statements are equivalent:
\begin{enumerate}
\item $M$ is noetherian.
\item All submodules of $M$ are finitely generated.
\item Every non-empty family of submodules of $M$ has a maximal element. 	
\end{enumerate}
\end{proposition}

\begin{proof}
	We first prove $2)\implies1)$. If $S_1\subseteq S_2\subseteq\cdots$ is an increasing 
        sequence of submodules of $M$, 
	it follows that $S=\cup_{i\geq 1}S_i$ is a submodule\footnote{In general, the union of submodules is not a submodule. Here $\cup_jS_j$ is a submodule because we have an increasing sequence $S_1\subseteq S_2\subseteq\cdots$ of submodules.} 
 of $M$. Since $S$ is finitely generated, 
	$S=(x_1,\dots,x_n)$ for some $x_1,\dots,x_n\in M$. It follows that 
	$x_1,\dots,x_n\in S_N$ for some positive integer $N$. Thus 
	$S\subseteq S_N$ and hence $S_N=S_{N+k}$ for all $k$. 
	
	We now prove $1)\implies3)$. Let $F$ be a non-empty family of submodules of $M$ with no maximal elements. 
	Let $S_1\in F$. Since $S_1$ is not maximal in $F$, there exists $S_2\in F$ such that $S_1\subsetneq S_2$. 
	Having constructed with this method the submodules $S_1\subsetneq\dots\subsetneq S_k$, since $S_k$ is not
	maximal in $F$, there exists $S_{k+1}\in F$ such that $S_k\subsetneq S_{k+1}$. 
	This means that the sequence 
	$S_1\subsetneq S_2\subsetneq\cdots$ does not stabilize. 
	
	We finally prove $3)\implies2)$. Let $S$ be a submodule of $M$ and let 
	\[
	F=\{T\subseteq S:T\text{ finitely generated submodule of $M$}\}.
	\]
	Note that $F\ne\emptyset$, as $\{0\}\in F$. 
	Then $F$ has a maximal element $N$. Thus
	$N$ is a finitely generated submodule of $M$ such that $N\subseteq S$. We may assume that 
	$N=(n_1,\dots,n_k)$. If $N=S$, then, in particular, $S$ is finitely generated. Suppose that
	$N\ne S$ and let $x\in S\setminus N$. It follows that  
	$N\subseteq (n_1,\dots,n_k,x)\subseteq S$. Since 
	$(n_1,\dots,n_k,x)\in F$ and $N$ is maximal, it follows that 
	$N=(n_1,\dots,n_k,x)$, a contradiction
	to $x\not\in N$. 
\end{proof}

The previous theorem shows that every noetherian module is finitely generated. 

\begin{exercise}
\label{xca:Pruffer}
Find a non-noetherian module such that every proper submodule is finitely generated. 	
\end{exercise}

\begin{exercise}
\label{xca:exacta_noetheriano}
	Let   
\[\begin{tikzcd}
	0 & M & N & T & 0
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\]
     be an exact sequence. Prove the following statements:
     \begin{enumerate}
     	\item If $N$ is noetherian, then $M$ and $T$ are noetherian.
     	\item If $M$ and $T$ are noetherian, then $N$ is noetherian.
     \end{enumerate}	
\end{exercise}

\begin{exercise}
\label{xca:regular_noetheriano}
A commutative ring $R$ is noetherian if and only if $\prescript{}{R}R$ is noetherian.	
\end{exercise}

\begin{exercise}
\label{xca:directa_noetheriano}
If $M_1,\dots,M_n$ are noetherian, then $M_1\oplus\cdots\oplus M_n$ is noetherian. 	
\end{exercise}

The previous exercise cannot be extended to infinitely many modules. Why?
%For example, $\Z^{\Z}$ is not noetherian, as it is not finitely generated. 

\begin{proposition}
If $R$ is noetherian and $M$ is a finitely generated module, then $M$ is noetherian. 
\end{proposition}

\begin{proof}
    Assume that $M=(m_1,\dots,m_k)$. There exists a surjective homomorphism  
\[
R^k\to M,\quad (r_1,\dots,r_k)\mapsto \sum_{i=1}^k r_i\cdot m_i,
\]
where
$R^k=\bigoplus_{i=1}^k R$. Since $R$ is noetherian, $R^k$ is noetherian. Thus $M$ is noetherian.	
\end{proof}

\section{Quotient fields}

Let $R$ be an integral domain and $S=R\setminus\{0\}$. 
On $R\times S$ we define the following relation:
\[
(r,s)\sim (r_1,s_1)\Longleftrightarrow rs_1-r_1s=0.
\]

\begin{exercise}
Prove that $\sim$ is an equivalence relation.
\end{exercise}

The equivalence class of $(r,s)$ will be denoted by $r/s$ or $\frac{r}{s}$. 

It is possible to prove that the set 
$K(R)=(R\times S)/{\sim}$ of equivalence classes is a field 
with the operations 
\begin{equation}
\label{eq:K(R)}
\frac{r}{s}+\frac{r_1}{s_1}=\frac{rs_1+r_1s}{ss_1},
\quad
\frac{r}{s}\frac{r_1}{s_1}=\frac{rr_1}{ss_1}.
\end{equation}

\begin{definition}
$K(R)$ is known as the \emph{quotient field} of $R$. 
\end{definition}

Simple example: $K(\Z)=\Q$.

\begin{exercise}
Let $R$ be an integral domain. 
Prove that $K(R)$ is a field. 
\end{exercise}

To prove that $K(R)$ is a field, one first needs to prove that 
the operations~\eqref{eq:K(R)} are well-defined. For example, let us check the addition is well-defined. 
If $r/s\sim r'/s'$ and $r_1/s_1\sim r_1'/s_1'$, then
$r/s+r_1/s_1\sim r'/s'+r_1'/s_1'$. In fact, 
since $r/s\sim r'/s'$, it follows that $rs'-r's=0$. Similarly, $r_1s_1'-r_1's_1=0$, as $r_1/s_1\sim r_1'/s_1'$. Thus 
\begin{gather*}
\frac{rs_1+r_1s}{ss_1}=\frac{r's_1'+r_1's'}{s's_1'}
\shortintertext{as}
(rs_1+r_1s)s's_1'=rs_1s's_1'+r_1ss's_1'
=r'ss_1s_1'+r_1's_1ss'
=(r's_1'+r_1's)ss_1.
\end{gather*}


\section{Free modules}

\begin{definition}
    Let $R$ be a ring, $M$ be a module over $R$ and $X$ be a subset of $M$. We say that
    $X$ is \emph{linearly independent} if for each $k\in\Z_{>0}$, $r_1,\dots,r_k\in R$
    and $m_1,\dots,m_k\in X$ such that $\sum_{i=1}^kr_i\cdot m_i=0$, then 
    $r_1=\cdots=r_k=0$.  
\end{definition}

In any ring, the set $\{1\}$ is linearly independent. 

A set is said to be 
\emph{linearly dependent} if it is not linearly independent.
    
\begin{example}\
\begin{enumerate}
    \item $\{2,3\}$ is a linearly dependent subset of $\Z$.
    \item $\{2\}$ is a linearly dependent subset of $\Z/4$.
    \item Let $R=\Z$, $M=\Q$ and $x\in M\setminus\{0\}$. 
        Then $\{x\}$ is a linearly independent subset of $M$. Is $y\in M\setminus\{x\}$, then
        $\{x,y\}$ is linearly dependent.  
\end{enumerate}    
\end{example}

A generating set $X$ for a module $M$ is \emph{minimal} if 
$X\setminus\{x\}$ is no longer a generating set of $M$ for all $x\in X$. 
In vector spaces, a subset of the vector space is a basis
if and only if it is a minimal generating set. This is no longer true 
for arbitrary modules.

\begin{example}
Let $R=M_2(\R)$ and $M=\begin{pmatrix}
        0&\R\\
        0&\R 
    \end{pmatrix}$. Then $\left\{\begin{pmatrix}0&1\\0&0\end{pmatrix}\right\}$ is a minimal generating 
    set and it is not linearly independent. 
\end{example}

However, one can prove that each module's basis is a minimal generating set. 
% roman 4.4, page 116

\begin{exercise}
\label{xca:LI}
    Let $f\in\Hom_R(M,N)$ and $X$ be a subset of $M$. 
    \begin{enumerate}
        \item If $X$ is linearly dependent, then $f(X)$ is linearly dependent.
        \item If $X$ is linearly independent and $f$ is injective, then $f(X)$ is linearly independent. 
        \item If $M=(X)$ and $f$ is surjective, then $N=(f(X))$. 
    \end{enumerate}
\end{exercise}

\begin{definition}
    Let $M$ be a module and $B$ be a subset of $M$. Then $B$ is a \emph{basis} of $M$ if
    $B$ is linearly independent and $M=(B)$. A module $M$ is said to be \emph{free} if it admits a basis.   
\end{definition}

As a consequence of Zorn's lemma, 
vector spaces are free. 

\begin{example}\
\begin{enumerate}
    \item If $R$ is a ring, then $\{1\}$ is a basis of $\prescript{}{R}{R}$, so $\prescript{}{R}{R}$ is free.
    \item If $R$ is a ring, then $R^n$ is free as a module over $R$. 
\end{enumerate}
\end{example}

\begin{exercise}
    Prove that $\Z/4$ is free as a $\Z/4$ module and that the submodule 
    $\{0,2\}\subseteq \Z/4$ is not free as a $\Z/4$-module.
\end{exercise}
\begin{exercise}
    Prove that $\Q$ is not free as a module over $\Z$. 
\end{exercise}

\begin{exercise}
\index{Module!over a division ring}
\label{xca:linear_algebra}
    Let $R$ be a division ring and $M$ be a non-zero and finitely generated module over $R$.
    Prove the following facts:
    \begin{enumerate}
        \item Every finite set of generators contains a basis.
        \item Every linearly independent set can be extended into a basis.
        \item Any two bases contain the same number of elements.
    \end{enumerate}
\end{exercise}

The previous exercise states that modules over division rings 
are like vector spaces over fields. In particular, 
such modules have dimensions.

\begin{example}
    $\R[X]$ is a free module (over $\R$) with basis $\{1,X,X^2,\dots\}$. 
\end{example}

\begin{exercise}
    Prove that $\{(a,b),(c,d)\}$ is a basis of $\Z\times\Z$ 
    (as a module over $\Z$) if and only if
    $ad-bc\in\{-1,1\}$. 
\end{exercise}

\begin{example}
If $u\in\mathcal{U}(R)$, then $\{u\}$ is a basis of $\prescript{}{R}R$. Conversely, if $R$ is a (not necessarily commutative) domain and 
$\{z\}$ is a basis of $\prescript{}{R}R$, then $z\in\mathcal{U}(R)$. Since 
$1=yz$ for some $y\in R$, then it follows that $zy=1$, as  
\[
(zy-1)z=z(yz)-z=z1-z=z-z=0.
\]	
\end{example}

If $R$ is a ring and $I$ is a set, 
\[
R^{(I)}=\{f\colon I\to R:f(x)=0\text{ for all but finitely many $x\in I$}\}
\]
is a module (over $R$) with 
$(f+g)(x)=f(x)+g(x)$ and $(rf)(x)=rf(x)$ for all $f,g\in R^{(I)}$, $x\in I$ and $r\in R$. 
Note that 
every element 
of $R^{(I)}$ can be written uniquely as
a finite sum of the form 
\[
\sum_{i\in I}r_i\delta_i,
\]
where the $r_i$ are elements of $R$ and only finitely many of them are non-zero, and 
\[
\delta_i(j)=\begin{cases}
1 & \text{if $i=j$},\\
0 & \text{otherwise}.
\end{cases}.
\]
One proves
that
\[
R^{(I)}\simeq\bigoplus_{i\in I}R.
\]

\begin{example}
If $I$ is a non-empty set, the module $R^{(I)}$ is free with basis 
$\{\delta_i:i\in I\}$, where 
\[
\delta_i(j)=\begin{cases}
	1 & \text{if $i=j$},\\
	0 & \text{if $i\ne j$.}
	\end{cases}	
\]
\end{example}

\begin{example}
If $R=M_2(\Z)$, then $M=\prescript{}{R}R$ is free with basis $\left\{\begin{pmatrix}
    1&0\\0&1\end{pmatrix}\right\}$. The submodule 
$N=\begin{pmatrix}\Z&0\\\Z&0\end{pmatrix}$ does not admits a basis as a module over $R$.
\end{example}

In modules, the size of a basis is not an invariant of the module.  

\begin{example}
Let $V$ be the complex vector space with infinite basis $e_0,e_1,e_2,\dots$ and let 
$R=\End(V)$ with the ring structure given by 
\[
(f+g)(v)=f(v)+g(v),\quad
(fg)(v)=f(g(v))
\]
for $f,g\in R$ and $v\in V$. 

Let $M=\prescript{}{R}R$. 
The set $\{\id\}$ is a basis for $R$.  
We claim that $M$ admits a basis with two elements. If
$r,s\in R$ are such that 
\begin{align*}
&r(e_{2n})=e_n, && r(e_{2n+1})=0,\\
&s(e_{2n})=0,&& s(e_{2n+1})=e_{2n},
\end{align*}
then $\{r,s\}$ is a basis of $M$. 
If $f\in R$, then
$f=\alpha r+\beta s$, where $\alpha\colon V\to V$, $e_n\mapsto f(e_{2n})$ for all $n$, and
$\beta\in V\to V$, $e_n\mapsto f(e_{2n+1})$ for all $n$. In fact,
\begin{align*}
&(\alpha r+\beta s)(e_{2n})=\alpha(r(e_{2n}))+\beta(s(e_{2n}))=f(e_{2n}),\\
&(\alpha r+\beta s)(e_{2n+1})=\alpha(r(e_{2n+1}))+\beta(s(e_{2n+1}))=f(e_{2n+1}).
\end{align*}
Moreover, $\{r,s\}$ is linearly independent. Indeed, if $\alpha r+\beta s=0$ for some $\alpha,\beta\in R$,  
Evaluation on $e_{2n}$ yields $\alpha=0$ and evaluation on $e_{2n+1}$ yields $\beta=0$.   
\end{example} 

\begin{example}
If $M$ is a free module with basis $X$ and $N$ 
is a free module with basis $Y$, then 
$M\oplus N$ is a free module with basis 
\[
\{(x,0):x\in X\}\cup \{(0,y):y\in Y\}.
\]	
\end{example}

\begin{exercise}
Let $R$ be a commutative ring. If $M$ and $N$ 
are free and finitely generated, then 
$\Hom_R(M,N)$
is free and finitely generated.
\end{exercise}

% Como $R$ es conmutativo, $\Hom_R(M,N)$ es un $R$-mÃ³dulo. Si $\{m_1,\dots,m_k\}$ es base de $M$ 
% y $\{n_1,\dots,n_l\}$ es base de $N$, entonces definimos para cada $i\in\{1,\dots,k\}$ y $j\in\{1,\dots,l\}$ 
% definimos $f_{ij}$ 
% \[
% f_{ij}(m_k)=\begin{cases}
% n_j & \text{si $k=i$},\\
% 0 & \text{si $k\ne i$}.
% \end{cases}
% \]
% Entonces $\{i_ij}$ es base de $\Hom_R(M,N)$. 
Some properties of free modules:

\begin{proposition}
If $M$ is free, then there exists a subset $\{m_i:i\in I\}$ of $M$ 
such that for each $m\in M$ there exist unique $r_i\in R$, $i\in I$, 
where $r_i=0$ except for finitely many $i\in I$ 
such that $m=\sum r_i\cdot m_i$. 
\end{proposition}

\begin{proof}
Since $M$ is free, there exists a basis $\{m_i:i\in I\}$ of $M$. If $m\in M$,
$m=\sum r_i\cdot m_i$ (finite sum) for some $r_i\in I$. We claim that
the $r_i$'s are unique. If $m=\sum s_i\cdot m_i$, then
$\sum (r_i-s_i)\cdot m_i=0$. Since $\{m_i:i\in I\}$ 
is linearly independent, $r_i=s_i$ for all $i\in I$.  	
\end{proof}

\begin{proposition}
\label{pro:libre}
Let $M$ be a free module over $R$ with basis $\{m_i:i\in I\}$ and let $N$ be a module over $R$. 
If $\{n_i:i\in I\}\subseteq N$, then 
there exists a unique $f\in\Hom_R(M,N)$ such that
$f(m_i)=n_i$ for all $i\in I$.  
\end{proposition}

\begin{proof}[Sketch of the proof]
Note that the unique homomorphism $f\colon M\to N$ is defined as 
\[ 
f(\sum r_i\cdot m_i)=\sum r_i\cdot n_i.\qedhere 
\]
\end{proof}

Another application:

\begin{example}
There is no surjective homomorphism $\Z\to\Z\times\Z$ (of modules over $\Z$). 
If $f\colon\Z\to\Z\times\Z$ is a surjective homomorphism, 
let $\{u,v\}$ a basis of $\Z\times\Z$. Then $f(k)=u$ and $f(l)=v$ for some $k,l\in\Z$. Proposition~\ref{pro:libre} implies 
that there exists a homomorphism $g\colon\Z\times\Z\to\Z$ such that $g(u)=k$ and $g(v)=l$. 
In particular, $f g=\id_{\Z\times\Z}$ and hence 
$g$ is injective. Since  
\[
g(lu-kv)=lg(u)-kg(v)=lk-kl=0,
\]
it follows that $lu-kv=0$ and thus $k=l=0$, as $\{u,v\}$ is linearly independent, a contradiction
\end{example}

Another important property:

\begin{proposition}
If $M$ is a free $R$-module, then $M\simeq R^{(I)}$ for some set $I$.
\end{proposition}

\begin{proof}
Suppose that $M$ has basis $\{m_i:i\in I\}$. Then there exists a unique homomorphism
$f\in\Hom_R(M,R^{(I)})$ such that  
$f(m_i)=\delta_i$ for all $i\in I$, where 
\[
\delta_i(j)=\begin{cases}
	1 & \text{if $i=j$},\\
	0 & \text{if $i\ne j$.}
	\end{cases}	
\]	

We claim that $f$ is an isomorphism. We first prove that the map $f$ is surjective: if $(r_i)_{i\in I}\in R^{(I)}$, then
$f(\sum r_i\cdot m_i)=(r_i)_{i\in I}$. Let us prove that $f$ is injective: 
\[
0=f(\sum r_i\cdot m_i)=\sum r_i\cdot f(m_i)=\sum r_i\cdot\delta_i\implies r_i=0\text{ for all $i\in I$}.\qedhere
\]
\end{proof}

\begin{corollary}
Every module is (isomorphic to) a quotient of a free module.
\end{corollary}

\begin{proof}
Let $M$ be a module. We claim that there exists a free module $L$ and a surjective homomorphism $f\in\Hom_R(L,M)$. Then
$L/\ker f\simeq M$. Let $\{m_i:i\in I\}$
be a generating set of $M$ (note that such a generating set always exists, as one could take, for example, the set
$\{m:m\in M\}$) and let $L=R^{(I)}$. Then $L$ is free and $f\colon R^{(I)}\to M$, $\delta_i\mapsto m_i$, is a surjective 
homomorphism.
\end{proof}

Another important property of free modules: free modules are
\emph{projective}. 

\begin{proposition}
	\label{pro:free=>projective}
    Let $R$ be a ring and 
    let $M$, $N$ and $T$ be $R$-modules. Assume that $M$ is free. 
	If $f\in\Hom_R(N,T)$ be surjective and
	$h\in\Hom_R(M,T)$, then there exists $\varphi\in\Hom_R(M,N)$ such that
	$f\varphi=h$. 
\end{proposition}

\begin{proof}
    We will prove that 
    there exists a homomorphism $\varphi$ that makes
    the diagram
    \[\begin{tikzcd}
	& M \\
	N & T & 0
	\arrow["f"', from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow["h", from=1-2, to=2-2]
	\arrow["\varphi"', dashed, from=1-2, to=2-1]
\end{tikzcd}\]
    commutative. 
	Let $\{m_i:i\in I\}$ be a basis of $M$. Since $f$ is surjective, for each
	$i\in I$ there exists $n_i\in N$ such that $f(n_i)=h(m_i)$. Since  $M$ is
	free, there exists a unique homomorphism $\varphi\colon M\to N$ such that
	$\varphi(m_i)=n_i$ for all $i\in I$. Thus homomorphism is such that
	$f\varphi=h$. 
\end{proof}

A consequence of the previous proposition
that we will use later:

\begin{proposition}
\label{pro:split}
	Let 
	\[
	   \begin{tikzcd}
        0 & A & B & C & 0
        \arrow[from=1-1, to=1-2]
        \arrow["f", from=1-2, to=1-3]
        \arrow["g", from=1-3, to=1-4]
        \arrow[from=1-4, to=1-5]
    \end{tikzcd}
	\]
	be an exact sequence of $R$-modules.  If $C$ is free, then $A\oplus C\simeq B$. 
\end{proposition}

\begin{proof}
    By considering the diagram
\[\begin{tikzcd}
	& C \\
	B & C & 0
	\arrow["g"', from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[equal, no head, from=1-2, to=2-2]
	\arrow["h"', dashed, from=1-2, to=2-1]
\end{tikzcd}\]
	the previous proposition 
	yields a homomorphism $h\colon C\to B$
	such that $gh=\id_C$. 
    %In fact, let $\{c_i:i\in I\}$ be a basis of $C$.
	%For each $i\in I$ let $b_i\in B$ be such that $g(b_i)=c_i$. The %map 
	%$h\colon C\to B$, $h(\sum r_i\cdot c_i)=\sum r_i\cdot b_i$, is a module homomorphism 
	%such that $gh=\id_C$. 

	Let $\varphi\colon A\oplus C\to B$, $(a,c)\mapsto f(a)+h(c)$. A simple
	calculation shows that $\varphi$ is a module homomorphism. 

	We prove that $\varphi$ is 
	injective. If $\varphi(a,c)=0$, then $f(a)+h(c)=0$. By applying $g$ we get that
	$0=g(f(a))+g(h(c))=c$ and hence, since $f$ is injective and
	$f(a)=0$, it follows that $(a,c)=(0,0)$. 
		
	Now we prove that $\varphi$ is surjective. 
	Let $b\in B$. 
	We need to find $(a,c)\in A\oplus C$ such that $\varphi(a,c)=b$. 
	Let $c=g(b)\in C$. Since
	\[
		g(b-h(c))=g(b)-gh(c)=g(b)-c,
	\]
	it follows that $b-h(c)\in \ker g=f(A)$. This means
	that $b-h(c)=f(a)$ for some $a\in A$. Now $b\in \varphi(A\oplus C)$, as
	\[
		\varphi(a,c)=f(a)+h(c)=b-h(c)+h(c)=b.\qedhere
	\]
\end{proof}

What can we say about the number of elements of a basis? 
If $M$ has a finite basis, then every basis of $M$ will be finite. To prove
this, let $M$ be a module 
and $E=\{e_i:i\in I\}$ be a basis of $M$. If $M$ is finitely generated, say 
$M=(m_1,\dots,m_k)$, write each $m_j$ as a (finite) linear combination of elements
of $E$. Then there exists 
a finite set $\{e_1,\dots,e_m\}$ that generates $M$. Since 
$E$ is a basis, it follows that
$\{e_1,\dots,e_m\}=E$ and hence $E$ is finite.  

\begin{exercise}
\label{xca:cardinality}
    Let $M$ be a free module with an infinite basis $E$. Prove
    that every basis of $M$ has cardinality $|E|$. 
\end{exercise}

Under additional assumptions the previous exercise also holds for 
finite bases. 

\begin{theorem}
Let $R$ be an integral domain. If $M$ is free with a finite basis, then 
any two bases of $M$ have the same number of elements.
\end{theorem}

\begin{proof}
Let $K=K(R)$ be the field of fractions of $R$. Note that 
$V=\Hom_R(M,K)$ is an abelian group and hence it 
is a vector space (over $K$) with 
\[
(\lambda f)(m)=\lambda f(m),
\]
where $\lambda\in K$, $f\in V$ and $m\in M$.

The vector space $V$ has a well-defined dimension. 
Let us compute $\dim V$. Let $\{e_1,\dots,e_n\}$ be a basis of $M$. 
For each $i\in\{1,\dots,n\}$ let 
\[
f_i\colon M\to K,\quad
e_j\mapsto\begin{cases}
1 & \text{if $i=j$},\\
0 & \text{if $i\ne j$}.
\end{cases}
\]
We claim that $\{f_1,\dots,f_n\}$ is basis of  $V$. It generates $V$, as  
if $f\in V$, then 
\[
f=\sum_{i=1}^n f(e_i)f_i,
\]
as these homomorphisms coincide in the elements of a basis of $M$, that is 
\[
f(e_j)=(\sum_{i=1}^n f(e_i)f_i)(e_j)
\]
for all $j\in\{1,\dots,n\}$.    
Moreover, $\{f_1,\dots,f_n\}$ is linearly independent, as if $0=\sum_{i=1}^n\lambda_if_i$, 
then, evaluating on each $e_j$, it follows that 
\begin{align*}
0=\left(\sum_{i=1}^n \lambda_if_i\right)(e_j)=\lambda_j
\end{align*}
for all $j\in\{1,\dots,n\}$. Thus $n=\dim V$. 
\end{proof}

The previous result can be proved for commutative rings. 

\begin{definition}
Let $R$ be an integral domain. If $M$ is a free 
finitely generated module, we define
the \emph{rank} of $M$ as the size of a basis of $M$. If $M$ is not finitely generated, 
we say that the rank of $M$ is infinite. 
\end{definition}

The rank of a module $M$ will be denoted by $\rank(M)$.   
